<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>FriendFinder</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
	 crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
	 crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
	<link rel="shortcut icon" href="images/favicon-globe.ico?v=2">
	<link rel="icon" href="images/favicon-globe.ico?v=2">
	<link rel="stylesheet" href="css/style.css">
	</script>
</head>

<body>

	<div class="container text-center" id="container">

		<!-- header -->
		<div class="jumbotron" id="survey-header">
			<h1 class=""><i class="fa fa-address-card" aria-hidden="true"></i> Survey</h1>
		</div>

		<!-- text input -->
		<div class="jumbotron" id="text-input">
			<h3>Name (Required)</h3>
			<input type="text" name="" id="name" class="form-control" placeholder="Your Name" required>
			<br>
			<h3>Link to Photo Image (Required)</h3>
			<input type="text" name="" id="photo" class="form-control" placeholder="http//:&lt;Link to Photo&gt;" required>
			<br>
			<h3>Gender</h3>
			<input type="radio" name="gender" id="male" value="male"/> Male &nbsp; &nbsp; &nbsp; 
			<input type="radio" name="gender" id="female" value="female"/> Female
			<br>
		</div>

		<!-- survey questions-->
		<div class="jumbotron" id="survey-questions">
			<h2 id="about-you">About You</h2>
			<h4>1. Your mind is always buzzing with unexplored ideas and plans.</h4>
			<input type=radio name="q1" id="q1-1" value="1" /> 1 (Strongly Disagree) &nbsp; &nbsp; &nbsp;
			<input type=radio name="q1" id="q1-2" value="2" /> 2 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q1" id="q1-3" value="3" checked="checked" /> 3 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q1" id="q1-4" value="4" /> 4 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q1" id="q1-5" value="5" /> 5 (Strongly Agree)
			<br><br>
			<h4>2. Generally speaking, you rely more on your experience than your imagination.</h4>
			<input type=radio name="q2" id="q2-1" value="1" /> 1 (Strongly Disagree) &nbsp; &nbsp; &nbsp;
			<input type=radio name="q2" id="q2-2" value="2" /> 2 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q2" id="q2-3" value="3" checked="checked" /> 3 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q2" id="q2-4" value="4" /> 4 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q2" id="q2-5" value="5" /> 5 (Strongly Agree)
			<br><br>
			<h4>3. You find it easy to stay relaxed and focused even when there is some pressure.</h4>
			<input type=radio name="q3" id="q3-1" value="1" /> 1 (Strongly Disagree) &nbsp; &nbsp; &nbsp;
			<input type=radio name="q3" id="q3-2" value="2" /> 2 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q3" id="q3-3" value="3" checked="checked" /> 3 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q3" id="q3-4" value="4" /> 4 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q3" id="q3-5" value="5" /> 5 (Strongly Agree)
			<br><br>
			<h4>4. You rarely do something just out of sheer curiosity.</h4>
			<input type=radio name="q4" id="q4-1" value="1" /> 1 (Strongly Disagree) &nbsp; &nbsp; &nbsp;
			<input type=radio name="q4" id="q4-2" value="2" /> 2 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q4" id="q4-3" value="3" checked="checked" /> 3 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q4" id="q4-4" value="4" /> 4 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q4" id="q4-5" value="5" /> 5 (Strongly Agree)
			<br><br>
			<h4>5. People can rarely upset you.</h4>
			<input type=radio name="q5" id="q5-1" value="1" /> 1 (Strongly Disagree) &nbsp; &nbsp; &nbsp;
			<input type=radio name="q5" id="q5-2" value="2" /> 2 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q5" id="q5-3" value="3" checked="checked" /> 3 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q5" id="q5-4" value="4" /> 4 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q5" id="q5-5" value="5" /> 5 (Strongly Agree)
			<br><br>
			<h4>6. It is often difficult for you to relate to other people’s feelings.</h4>
			<input type=radio name="q6" id="q6-1" value="1" /> 1 (Strongly Disagree) &nbsp; &nbsp; &nbsp;
			<input type=radio name="q6" id="q6-2" value="2" /> 2 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q6" id="q6-3" value="3" checked="checked" /> 3 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q6" id="q6-4" value="4" /> 4 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q6" id="q6-5" value="5" /> 5 (Strongly Agree)
			<br><br>
			<h4>7. In a discussion, truth should be more important than people’s sensitivities.</h4>
			<input type=radio name="q7" id="q7-1" value="1" /> 1 (Strongly Disagree) &nbsp; &nbsp; &nbsp;
			<input type=radio name="q7" id="q7-2" value="2" /> 2 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q7" id="q7-3" value="3" checked="checked" /> 3 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q7" id="q7-4" value="4" /> 4 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q7" id="q7-5" value="5" /> 5 (Strongly Agree)
			<br><br>
			<h4>8. You rarely get carried away by fantasies and ideas.</h4>
			<input type=radio name="q8" id="q8-1" value="1" /> 1 (Strongly Disagree) &nbsp; &nbsp; &nbsp;
			<input type=radio name="q8" id="q8-2" value="2" /> 2 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q8" id="q8-3" value="3" checked="checked" /> 3 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q8" id="q8-4" value="4" /> 4 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q8" id="q8-5" value="5" /> 5 (Strongly Agree)
			<br><br>
			<h4>9. You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h4>
			<input type=radio name="q9" id="q9-1" value="1" /> 1 (Strongly Disagree) &nbsp; &nbsp; &nbsp;
			<input type=radio name="q9" id="q9-2" value="2" /> 2 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q9" id="q9-3" value="3" checked="checked" /> 3 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q9" id="q9-4" value="4" /> 4 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q9" id="q9-5" value="5" /> 5 (Strongly Agree)
			<br><br>
			<h4>10. You feel more energetic after spending time with a group of people.</h4>
			<input type=radio name="q10" id="q10-1" value="1" /> 1 (Strongly Disagree) &nbsp; &nbsp; &nbsp;
			<input type=radio name="q10" id="q10-2" value="2" /> 2 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q10" id="q10-3" value="3" checked="checked" /> 3 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q10" id="q10-4" value="4" /> 4 &nbsp; &nbsp; &nbsp;
			<input type=radio name="q10" id="q10-5" value="5" /> 5 (Strongly Agree)
		</div>

		<!-- Submit Button -->
		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
 Submit</button>

		<footer class="footer">
			<div class="footer-container">
				<p><a href="/api/friends">API Friends List</a></p>
			</div>
		</footer>

	</div>

	<!-- Modal -->
	<div id="resultsModal" class="modal fade" role="dialog">
		<div class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content text-center">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h2 class="modal-title"><strong>Best Match</strong></h2>
				</div>
				<div class="modal-body">
					<h2 id="matchName"></h2>
					<img id="matchImg" width="300" src="" alt="">
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>

		</div>
	</div>

	<script type="text/javascript">
		// Form validation
		function validateForm() {

			var isValid = true;

			// $('.form-control').each(function () {

			// 	if ($(this).val() === '')

			// 		isValid = false;
			// });

			return isValid;
		}

		// Capture the form inputs 
		$("#submit").on("click", function () {

			// If all required fields are filled
			if (validateForm()) {

				// Create an object for the user's data
				var userInfo = {
					name: $("#name").val(),
					photo: $("#photo").val(),
					gender: $("input[name=gender]:checked").val(),
					scores: [$("input[name=q1]:checked").val(), $("input[name=q2]:checked").val(),
					$("input[name=q3]:checked").val(), $("input[name=q4]:checked").val(),
					$("input[name=q5]:checked").val(), $("input[name=q6]:checked").val(),
					$("input[name=q7]:checked").val(), $("input[name=q8]:checked").val(),
					$("input[name=q9]:checked").val(), $("input[name=q10]:checked").val()]
				}

				// clear input fields and reset radio buttons
				$("#name").val("");
				$("#photo").val("");
				$("#male").prop("checked", false);
				$("#female").prop("checked", false);
				$("#q1-3").prop("checked", true);
				$("#q2-3").prop("checked", true);
				$("#q3-3").prop("checked", true);
				$("#q4-3").prop("checked", true);
				$("#q5-3").prop("checked", true);
				$("#q6-3").prop("checked", true);
				$("#q7-3").prop("checked", true);
				$("#q8-3").prop("checked", true);
				$("#q9-3").prop("checked", true);
				$("#q10-3").prop("checked", true);

				$.post("/api/friends", userInfo, function (result) {

					// Grab the result from the AJAX post so that the best match's name and photo are displayed.
					$("#matchName").text(result.name);
					$('#matchImg').attr("src", result.photo);

					// Show the modal with the best match 
					$("#resultsModal").modal('toggle');

				});
			}
			else {
				alert("Please fill out all fields before submitting!");
			}
		});
	</script>
</body>

</html>